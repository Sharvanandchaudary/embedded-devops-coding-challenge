âœ… PART 1: Install Python 3.9 Locally and Package for Transfer
1. On Local Ubuntu (with internet)
bash
Copy
Edit
sudo apt update
sudo apt install -y build-essential libssl-dev zlib1g-dev \
  libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm \
  libncursesw5-dev xz-utils tk-dev libxml2-dev libxmlsec1-dev libffi-dev liblzma-dev
2. Download and build Python 3.9
bash
Copy
Edit
cd /tmp
wget https://www.python.org/ftp/python/3.9.18/Python-3.9.18.tgz
tar -xf Python-3.9.18.tgz
cd Python-3.9.18
./configure --enable-optimizations
make -j$(nproc)
make install DESTDIR=$HOME/python39-offline
This installs Python into $HOME/python39-offline/usr/local/bin/python3.9

3. Compress the folder
bash
Copy
Edit
cd ~
tar -czvf python39-offline.tar.gz python39-offline
âœ… PART 2: Copy Python 3.9 + PyTorch Offline to VM
bash
Copy
Edit
scp -i veera-dev2.pem ~/python39-offline.tar.gz ec2-user@<VM-IP>:/home/ec2-user/
scp -i veera-dev2.pem pytorch-cu121-offline.tar.gz ec2-user@<VM-IP>:/home/ec2-user/
âœ… PART 3: On VM â€“ Extract Python and Use It
1. SSH into the VM
bash
Copy
Edit
ssh -i veera-dev2.pem ec2-user@<VM-IP>
2. Extract Python
bash
Copy
Edit
tar -xzvf python39-offline.tar.gz
cd python39-offline
3. Add Python 3.9 to PATH (temporary)
bash
Copy
Edit
export PATH=$PWD/usr/local/bin:$PATH
4. Check Python version
bash
Copy
Edit
python3.9 --version
âœ… PART 4: Install PyTorch Offline with Python 3.9
1. Extract your PyTorch package
bash
Copy
Edit
tar -xzvf pytorch-cu121-offline.tar.gz
This should create a folder like pytorch-cu121-offline/ containing .whl and .tar.gz files.

2. Create and activate virtualenv
bash
Copy
Edit
python3.9 -m venv torch-env
source torch-env/bin/activate
3. Install from local folder
bash
Copy
Edit
pip install --no-index --find-links=./pytorch-cu121-offline torch torchvision torchaudio
âœ… PART 5: Verify GPU Support
bash
Copy
Edit
python -c "import torch; print(torch.cuda.is_available()); print(torch.cuda.get_device_name(0))"
ðŸ§¼ Optional (Make Python 3.9 Permanent)
If you want Python 3.9 globally:

bash
Copy
Edit
sudo cp -r python39-offline/usr/local/* /usr/local/
sudo ln -sf /usr/local/bin/python3.9 /usr/bin/python3.9
Let me know if you also want a TensorFlow offline zip to be used with this Python 3.9, or if you want .whl structure for PyTorch.









Ask ChatGPT
