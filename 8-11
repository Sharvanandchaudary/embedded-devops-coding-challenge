1. Find the network using VLAN 1168

bash
Copy
Edit
openstack network list --long \
  -c ID -c Name -c "Provider Physical Network" -c "Provider Segmentation ID" | grep 1168
Copy the Network ID from here (likely 3f0c25f8-fda8-47bf-8550-b7f21208988d in your case).

2. List subnets on this network

bash
Copy
Edit
openstack subnet list --network <NET_ID>
3. Check routers connected to this network

3a. As external gateway

bash
Copy
Edit
openstack port list --network <NET_ID> --device-owner network:router_gateway
3b. As internal interface

bash
Copy
Edit
openstack port list --network <NET_ID> --device-owner network:router_interface
4. If needed, find floating IPs using this network

bash
Copy
Edit
openstack floating ip list --long | grep <NET_ID>
Once you run these four steps, youâ€™ll see exactly:

The subnets linked to VLAN 1168

The routers using it (internal or external)

Any floating IPs tied to it

Do you want me to also give the exact detach commands for when you find the attached routers and floating IPs? That way, we can free VLAN 1168 so Terraform can create the network.









Ask ChatGPT
