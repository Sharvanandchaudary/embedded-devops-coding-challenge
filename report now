name: PR Checklist Validator

on:
  pull_request:
    types: [opened, edited, reopened, synchronize]
    branches:
      - '**'  # All branches

jobs:
  validate-pr:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout PR
      uses: actions/checkout@v3

    - name: Validate Checklist
      uses: tzkhan/pr-update-checklist@v1.3.0
      with:
        repo-token: ${{ secrets.GITHUB_TOKEN }}
        require-checklist: true
        checklist-item-pattern: "- \\[ \\] .+" # Enforce unchecked items to be ticked

    - name: Fail if checklist is incomplete
      if: failure()
      run: |
        echo "‚ùå PR checklist is not completed. Please complete all items."
        exit 1
### Checklist

- [ ] Code compiles and passes lint
- [ ] Unit tests are written and pass
- [ ] Documentation is updated if needed
- [ ] Reviewed by at least one other developer
